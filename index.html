<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Silent Library</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles/style.css">
  <link rel="icon" type="image/png" href="assets/SL-Logo-Small.png">
  <base href="">
</head>
<body>
  <div class="d-flex flex-column min-vh-100">
    <div id="header" data-level="0"></div>

    <main class="flex-fill">
      <div class="container mt-4">

        <!-- Welcome Message -->
        <div class="mb-5">
          <h2>Welcome to Silent Library</h2>
          <h5 class="text-muted">Read. Learn. Grow.</h5>
          <p>
            At Silent Library, we believe in the quiet power of reading to transform lives. Whether you're exploring new knowledge, diving into stories, or seeking inspiration, our carefully curated collection is here to support your journey.
          </p>
          <p>
            Embrace the joy of discovery, enrich your understanding, and grow with every page you turn.
          </p>
        </div>

        <div class="row">
          <div class="col-md-8">
            <h3>New Books</h3>
            <div class="d-flex flex-wrap mb-3" id="newBooksContainer">
              <!-- New books will be inserted here -->
            </div>

            <h3>Popular Books</h3>
            <div class="d-flex flex-wrap" id="popularBooksContainer">
              <!-- Popular books will be inserted here -->
            </div>
          </div>

          <div class="col-md-4">
            <h3>Upcoming Events</h3>
            <div class="row">
              <div class="col-6">
                <a href="pages/events.html"><img src="assets/events_29Aug_e1.jpg" class="img-fluid mb-2" alt="Event 1"></a>
              </div>
              <div class="col-6">
                <a href="pages/events.html"><img src="assets/events_night.jpg" class="img-fluid mb-2" alt="Event 2"></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <div id="footer" data-level="0"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="scripts/bookdata.js"></script>
  <script src="scripts/header-paths.js"></script>
  <script src="scripts/footer-paths.js"></script>

  <script>
    $(function () {
      $("#header").load("header.html", function () {
        adjustHeaderPaths($("#header").data("level"));
      });

      $("#footer").load("footer.html", function () {
        adjustFooterPaths($("#footer").data("level"));
      });

      // Hardcoded Reference Numbers for display
      const newBooksRefs = ["B00001", "B00002", "B00005", "B00007", "B00008", "B00009"];
      const popularBooksRefs = ["B00003", "B00004", "B00010", "B00011", "B00012", "B00013"];

      function renderBooks(refList, containerId) {
        const container = document.getElementById(containerId);
        refList.forEach(ref => {
          const book = bookData.find(b => b.referenceNo === ref);
          if (book) {
            const anchor = document.createElement("a");
            anchor.href = `pages/bookdetails_${book.referenceNo}.html`;
            anchor.innerHTML = `<img src="assets/${book.referenceNo}.jpg" class="me-3 mb-2 book-img" alt="${book.referenceNo}">`;
            container.appendChild(anchor);
          }
        });
      }

      renderBooks(newBooksRefs, "newBooksContainer");
      renderBooks(popularBooksRefs, "popularBooksContainer");
    });
  </script>
</body>
</html>
